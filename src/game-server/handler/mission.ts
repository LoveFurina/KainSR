import { starrail } from "src/proto/starrail";
import { NetSession } from "../NetSession";
import { CmdID } from "src/proto/cmdId";

const FinishedMainMissionIdList = [
    1000101, 1000111, 1000112, 1000113, 1000114, 1000201, 1000202, 1000203, 1000204, 1000300,
    1000301, 1000302, 1000303, 1000304, 1000400, 1000401, 1000402, 1000410, 1000500, 1000501,
    1000502, 1000503, 1000504, 1000505, 1000510, 1000511, 1010001, 1010002, 1010101, 1010201,
    1010202, 1010203, 1010204, 1010205, 1010206, 1010301, 1010302, 1010303, 1010401, 1010405,
    1010402, 1010403, 1010500, 1010501, 1010502, 1010503, 1010601, 1010602, 1010700, 1010701,
    1010801, 1010802, 1010901, 1010902, 1011001, 1011002, 1011003, 1011100, 1011101, 1011102,
    1011103, 1011201, 1011202, 1011301, 1011400, 1011401, 1011402, 1011403, 1011501, 1011502,
    1011503, 1020101, 1020201, 1020302, 1020301, 1020400, 1020401, 1020402, 1020403, 1020501,
    1020601, 1020701, 1020702, 1020801, 1020901, 1021001, 1021101, 1021201, 1021301, 1021401,
    1021501, 1021601, 2000001, 2000002, 2000003, 2000004, 2000100, 2000101, 2000131, 2000132,
    2000133, 2000110, 2000111, 2000301, 2000103, 2000112, 2000108, 2000104, 2000102, 2000105,
    2000106, 2000107, 2000313, 2000314, 2000109, 2000113, 2000116, 2000118, 2000119, 2000120,
    2000122, 2000302, 2000303, 2000304, 2000305, 2000310, 2000311, 2000312, 2000320, 2000701,
    2000702, 2000703, 2000704, 2000705, 2000706, 2000707, 2010005, 2010301, 2010302, 2011103,
    2011104, 2011409, 2010401, 2010402, 2010405, 2010502, 2010503, 2010701, 2010708, 2010709,
    2010720, 2010730, 2010731, 2010732, 2010733, 2010734, 2010735, 2010904, 2011101, 2011102,
    2011105, 2011301, 2011302, 2011303, 2011501, 2011502, 2010909, 2010910, 2011901, 2011902,
    2011903, 2011904, 2011905, 2011906, 2020301, 2020302, 2020304, 2020316, 2020317, 2020318,
    2020319, 2020401, 2020402, 2020403, 2020404, 2020405, 2020406, 2020407, 2020303, 2020103,
    2020104, 2020105, 2020106, 2020107, 2020108, 2020109, 2020110, 2020201, 2020202, 2020203,
    2020204, 2000201, 2000202, 2000203, 2000204, 2000205, 2000206, 2000207, 2000208, 2000209,
    2000211, 2000212, 2010500, 2010501, 2010705, 2010706, 2010901, 2010902, 2010903, 2010702,
    2010703, 2011400, 2011401, 2011406, 2011402, 2011403, 2011404, 2011405, 2011407, 2011408,
    2011410, 2010905, 2010906, 2010907, 2010908, 2010911, 2010912, 2020305, 2020306, 2020309,
    2020307, 2020308, 2020701, 2020702, 2020313, 2020314, 2020315, 6020101, 6020201, 6020202,
    2020801, 2020802, 2020901, 2021601, 2021602, 3000201, 3000202, 3000203, 3000211, 3000212,
    3000213, 3000301, 3000302, 3000303, 3000522, 3000523, 3000524, 3000525, 3000526, 3000527,
    3000601, 3000602, 3000603, 3000604, 3000701, 3000702, 3000703, 3000704, 3000705, 3000800,
    3000801, 3000802, 3000803, 3010102, 3010103, 3010104, 3010105, 3010201, 3010202, 3010203,
    3010204, 3010205, 3011011, 3011012, 3011013, 3011014, 3011111, 3011112, 3011113, 3011114,
    3011201, 3011202, 3011203, 3011204, 3011205, 3011206, 3011207, 3011208, 3011401, 3011402,
    3011403, 3011404, 3011405, 3011406, 3011407, 3011408, 3011501, 3011502, 3011503, 3011504,
    3011505, 3011601, 3011602, 3011603, 3011604, 3011605, 3011606, 3011607, 3011608, 3011609,
    3011610, 3012001, 4020101, 4020102, 4020103, 4020104, 4020105, 4020106, 4020107, 4020108,
    4020109, 4020110, 4020111, 4020112, 4020113, 4020114, 4010105, 4010106, 4010107, 4010112,
    4010113, 4010131, 4010115, 4010116, 4010121, 4010122, 4010123, 4010124, 4010125, 4010126,
    4010127, 4010128, 4010133, 4010134, 4010135, 4010130, 4010136, 4010137, 4015101, 4015103,
    4015102, 4015202, 4015203, 4015204, 4015301, 4015302, 4015303, 4030001, 4030002, 4030003,
    4030004, 4030006, 4030007, 4030009, 4030010, 4040001, 4040002, 4040003, 4040004, 4040005,
    4040006, 4040052, 4040007, 4040008, 4040051, 4040009, 4040010, 4040011, 4040012, 4040053,
    4040014, 4040015, 4040017, 4040018, 4040019, 4040020, 4040021, 4040022, 4040023, 4040024,
    4040100, 4040189, 4040190, 4040101, 4040151, 4040154, 4040102, 4040103, 4040153, 4040104,
    4040152, 4040105, 4040106, 4040155, 4040107, 4040108, 4040109, 4040156, 4040157, 4040110,
    4040114, 4040115, 4040158, 4040159, 4040160, 4040161, 4040162, 4040116, 4040169, 4040163,
    4040164, 4040165, 4040166, 4040167, 4040168, 4040170, 4040171, 4040172, 4040173, 4040174,
    4040175, 4040176, 4040177, 4040178, 4040179, 4040180, 4040181, 4040182, 4040183, 4040184,
    4040185, 4040186, 4040117, 4040118, 4040119, 4040187, 4040120, 4040188, 4040121, 4040122,
    4040123, 4040124, 4040125, 4040126, 4040127, 4040128, 4040129, 4040130, 4040201, 4040202,
    4040203, 4040204, 4040205, 4040206, 4040207, 4040208, 4040290, 4040209, 4040210, 4040211,
    4040212, 4040213, 4040214, 4040215, 4040216, 4040217, 4040218, 4040219, 4040220, 4040221,
    4040222, 4040223, 4040224, 4040225, 4040226, 4040227, 4040228, 4040229, 4040230, 4040231,
    4040240, 4040241, 4040242, 4040244, 4040245, 4040246, 4040247, 4050005, 4050007, 4050008,
    4050009, 4050010, 4050011, 4050012, 4050013, 4050014, 4050015, 4050016, 4050017, 4050018,
    4050019, 4050020, 4050021, 4050022, 4050023, 4050024, 4050025, 4050026, 4050027, 4050028,
    4050029, 4050030, 4050031, 4050032, 4050033, 4050034, 4050035, 4050036, 4050037, 4072121,
    4072122, 4072123, 4071311, 4071312, 4071313, 4071320, 4071321, 4071322, 4122100, 4122101,
    4122102, 4122103, 4081311, 4081312, 4081313, 4081314, 4081315, 4081316, 4081317, 4081318,
    8000001, 8000002, 8000101, 8000102, 8000104, 8000105, 8000131, 8000132, 8000133, 8000134,
    8000135, 8000136, 8000137, 8000138, 8000139, 8000151, 8000152, 8000153, 8000154, 8000155,
    8000156, 8000157, 8000158, 8000159, 8000161, 8000162, 8000170, 8000171, 8000172, 8000173,
    8000174, 8000175, 8000177, 8000178, 8000180, 8000181, 8000183, 8000182, 8000185, 8000184,
    8000186, 8000187, 8000188, 8000189, 8000201, 8000202, 8000203, 8000204, 8001201, 8001202,
    8001203, 8001205, 8001206, 8001207, 8001208, 8001209, 8001211, 8001212, 8001213, 8001215,
    8001216, 8001219, 8001220, 8001223, 8001224, 8001225, 8001226, 8001227, 8001204, 8001210,
    8001214, 8001217, 8001218, 8001221, 8001222, 8001241, 8001242, 8001243, 8001244, 8001251,
    8001252, 8001253, 8001254, 8001255, 8001261, 8001262, 8001263, 8001264, 8001265, 8001266,
    8001267, 8001268, 8011401, 8002201, 8002202, 8002211, 8002212, 8002213, 8002214, 8002221,
    8002222, 8002231, 8002232, 8002233, 8002234, 8012101, 8012102, 8012103, 8012104, 8012105,
    8012106, 8012107, 8012401, 9999920, 1021702, 1021703, 1030101, 1030102, 1030201, 1030202, 1030301, 1030302, 1030303, 1030304, 1030401, 1030402, 1030403, 1030501, 1030601, 1030701, 1030702, 1030703, 1030801, 1030901, 1031001, 1031002, 1031101, 1031201, 1031301, 1031401, 1031501, 1031601, 1031701, 1031801, 1031901, 1032001, 1032101, 1032201, 1032301, 1032302, 1032401, 1032501, 1032601, 1032602, 1032701, 1032702, 1032703, 1032704, 1032705, 1032801, 1032802, 1032901, 1032902, 1033001, 1033101, 1033102, 1034101, 1034103, 1034104, 1034105, 1034107, 1034108, 1034109, 1034110, 2000801, 2000802, 2000803, 2000901, 2000902, 2000903, 2001001, 2001002, 2001003, 2011601, 2011701, 2011801, 2020111, 2020205, 2010201, 2010202, 2010203, 2010204, 2010205, 2010206, 2011411, 2011412, 2011413, 2020703, 2020501, 2020502, 2020503, 2020504, 2020505, 2020506, 2020507, 2020601, 2020602,
    2020603, 2020604, 2021001, 2021002, 2021009, 2021701, 2021702, 2021703, 2021704, 2021705, 2021801, 2021802, 2021803, 2030001, 2030002, 2030003, 2030101, 2030102, 2030201, 2030202, 2030203, 2030301, 2030302, 2030401, 2030402, 2030501, 2030602, 2030603, 2030601, 3020101, 3020102, 3020103, 3020104, 3020105, 3020106, 3020107, 3020108, 3020201, 3020202, 3020203, 3020204, 3020205, 3020206, 4010138, 4010140, 4010141, 4015401, 4015402, 4015403, 4015503, 4015502, 4140101, 4140102, 4140103, 4140104, 4140105, 4140106, 4140107, 4140108, 4140109, 4140110, 4140111, 4140112, 4140113, 4140114, 4140115, 4140116, 4140117, 4140118, 4140119, 4140120, 4140121, 4140122, 4140123, 4040248, 4040249, 4040250, 4040251, 4040252, 4040253, 4040254, 4040255, 4040256, 4040257, 4040258, 4040259, 4040260, 4040261, 4040262, 4040263, 4040264, 4240301, 4240302, 4240304, 4240305, 4240306, 4240307, 4240308, 4240309, 4240310, 4240311, 4240312, 4240313, 4240314, 4240316, 4240317, 4240320, 4240321, 4240322, 4240323, 4240401, 4240402, 4240403, 4240404, 4240405, 4340101, 4340102, 4340103, 4340104, 4340105, 4340106, 4340107, 4340108, 4340109, 4340110, 4340111, 4340112, 4340113, 4340114, 4340115, 4340116, 4340117, 4340118, 4340119, 4340120, 4340121, 4340122, 4340150, 4340151, 4340152, 4340153, 4340154, 4340155, 4340156, 4340157, 4340158, 4340159, 4340160, 4340161, 4340162, 4340163, 4340164, 4340165, 4340166, 4340167, 4340168, 4340169, 4540101, 4540102, 4540103, 4540104, 4540105, 4540106,
    4540107, 4540111, 4540112, 4540113, 4540114, 4540201, 4540202, 4540203, 4540204, 4540205, 4540206, 4540211, 4540212, 4540213, 4540214, 4540301, 4540302, 4540303, 4540304, 4540305, 4540306, 4540307, 4540311, 4540312, 4540313, 4540314, 4540315, 4540401, 4540402, 4540403, 4540404, 4540405, 4540406, 4540407, 4540408, 4540411, 4540412, 4540413, 4540414, 4540501, 4540502, 4040300, 4040302, 4040303, 4040304, 4040305, 4040306, 4040307, 4040308, 4040309, 4040310, 4040311, 4040312, 4040313, 4040314, 4040315, 4040316, 4040317, 4040318, 4040319, 4040320, 4040321, 4040322, 4040323, 4040324, 4040325, 4040326, 4040327, 4040328, 4040329, 4040330, 4040331, 4040332, 4040333, 4040334, 4040335, 4040336, 4040337, 4040338, 4040339, 4040340, 4040341, 4040342, 4040343, 4040344, 4040345, 4040346, 4040347, 4040348, 4040349, 4040350, 4050038, 4050039, 4072011, 4072012, 4072013, 4072021, 4072022, 4072023, 4072024, 4070011, 4070012, 4070013, 5030500, 8002100, 8002101, 8002102, 8002106, 8002103, 8002104, 8002105, 8002107, 8003101, 8003102, 8003201, 8003202, 8003213, 8003214, 8003204, 8003220, 8003217, 8003203, 8003215, 8003205, 8003206, 8003207, 8003221, 8003218, 8003208, 8003216, 8003209, 8003210, 8003222, 8003219, 8003211, 8003212, 8003240, 8003241, 8003242, 8003243, 8003244, 8003245, 8003246, 8003247, 8003248, 8003249, 8003250, 8003251, 8003260, 8003261, 8003262, 8003263, 8003264, 8003265, 8003266, 8003267, 8003268, 8003269, 8003278, 8003279, 8003280, 8003281, 8003282,
    8003283, 8003284, 8013101, 8013102, 8013103, 8013104, 8013105, 8013106, 8013107, 8013108, 8013109, 8013110, 8014101, 8014102, 8014103, 8014104, 8014105, 8014106, 8014108, 8014112, 8014121, 8014122, 8014123, 8014124, 8014125, 8014126, 8014127, 8014128, 8014129, 8014130, 8014131, 8014132, 8014133, 8014134, 8014135, 8014136, 8014137, 8014138, 8014139, 8014140, 8014141, 8014142, 8014143, 8014144, 8014145, 8014146, 8014147, 8014148, 8014149, 8014150, 8014161, 8014162, 8014163, 8014164, 8014165, 8014166, 8014167, 8014168, 8015191, 8015101, 8015111, 8015192, 8015102, 8015112, 8015193, 8015103, 8015113, 8015123, 8015194, 8015104, 8015114, 8015195, 8015196, 8015197, 8015198, 8015150, 8015151, 8015152, 8015153, 8015154, 8015155, 8015156, 8015157, 8015158, 8015159, 8015161, 8015162, 8015163, 8015164, 8015165, 8015171, 8015172, 8015173, 8015180, 8015201, 8015202, 8015203, 8016101, 8016102, 8016103, 8016104, 8016105, 8016106, 8016201, 8016202, 8016203, 8016204, 8016205, 8016206, 8016207, 8016208, 8016209, 8016210, 8016211, 8016212, 8016213, 8016301, 8016302, 8016303, 8016304, 8016305, 8017101, 8017102, 8020101, 8020102, 8020103, 8020104, 8020105, 8020106, 8020107, 8020108, 8020201, 8020202, 8020203, 8020204, 8020205, 8020206, 8020207, 8020208, 8020209, 8020210, 8020211, 8020212, 8020213, 8020214, 8020215, 8020216, 8020217, 8020218, 8020219, 8020220, 8020221, 8020222, 8020223, 8020224, 8020231, 8020232, 8020233, 8020234, 8020236, 8020300, 8020301, 8020302,
    8020303, 8020304, 8020305, 8021100, 8021101, 8021102, 8021103, 8021104, 8021105, 8021106, 8021121, 8021122, 8021123, 8021124, 8021130, 8021131, 8021132, 8021201, 8021202, 8021203, 8021301, 8021302, 8021303, 8021401, 8021402, 8021403, 8021404, 8021501, 8021502, 8021503, 8021504, 8021505, 8021506, 8022101, 8022102, 8022103, 8022104, 8022105, 8022106, 8022107, 8022108, 8022109, 8022110, 8022111, 8022112, 8022113, 8022114, 8022115, 8022120, 8022121, 8022122, 8022123, 8022124, 8022125, 8022126, 8022127, 8022201, 8022202, 8022301, 8022302, 8022401, 8022402, 8023101, 8023102, 8023103, 8023104, 8023105, 8023111, 8023201, 8023202, 8023203, 8023301, 8023401, 8023501, 8023601,
];

export async function onGetMissionStatusCsReq(
    body: starrail.GetMissionStatusCsReq | any,
    player: NetSession,
    dataModule: any | null = null
): Promise<void> {

    const proto: starrail.GetMissionStatusScRsp = new starrail.GetMissionStatusScRsp({
        retcode: 0,
        subMissionStatusList: [],
        missionEventStatusList: [],
        finishedMainMissionIdList: []
    });
    if (body.subMissionIdList) {
        for (let i = 0; i < body.subMissionIdList.length; i++) {
            proto.subMissionStatusList.push({
                id: body.subMissionIdList[i],
                status: starrail.MissionStatus.MISSION_FINISH,
                progress: 1
            });
        }

    }
    if (body.mainMissionIdList) {
        for (let i = 0; i < body.mainMissionIdList.length; i++) {
            proto.missionEventStatusList.push({
                id: body.mainMissionIdList[i],
                status: starrail.MissionStatus.MISSION_FINISH,
                progress: 1
            });
        }
    }

    proto.finishedMainMissionIdList.push(...FinishedMainMissionIdList);
    const bufferData = starrail.GetMissionStatusScRsp.encode(proto).finish()

    await player.send(
        CmdID.CmdGetMissionStatusScRsp,
        bufferData
    );
}